<?php#*wataw*
#ูุญูู ุตูุบ 
if($start=="non"){
$start="
        
        ุจูุช ุชุญููู ุงูุตูุบ ุชุณุชุทูุน ุชุญููู ุฌููุน ุตูุบ ุงูููุฏูุง ูู ุฎูุงู ุงูุจูุช      
";

}

$jsonfrom = json_decode(file_get_contents("data/$from_id.json"),true);
if (!file_exists("data/$from_id.json")) {
	$put = [];
	file_put_contents("data/$from_id.json", json_encode($put));
}

$m=$jsonfrom["info"]["amr"];


if (!is_dir('data')) {
	mkdir('data');
}
















if($text=="/start" or strpos($data,'_')!== false ){

	$jsonfrom["info"]["amr"]="$data";
file_put_contents("data/$from_id.json", json_encode($jsonfrom));

}
if ($text == '/start') {

	bot('sendMessage',[
		'chat_id'=>$chat_id,
		'text'=>"ุงููุง ุจู ุนุฒูุฒู $name 
		$start
		
		$txtfree
		",
	'parse_mode'=>HTML,
		'reply_markup'=>json_encode([
'inline_keyboard'=>[
[['text'=>'๐ถโูุณู ุงูุตูุช ','callback_data'=>'g_mp3']],
[['text'=>'๐ฅโูุณู ุงููุฏูู','callback_data'=>'g_video']],
[['text'=>'๐โูุณู ุงูุตูุฑ','callback_data'=>'g_photo']],
[['text'=>'๐ฑโูุณู ุชุบููุฑ ุงูุญููู','callback_data'=>'audio']],

]    
])
		
	]);
	$jsonfrom["info"]["amr"]="null";
file_put_contents("data/$from_id.json", json_encode($jsonfrom));
}
if ($data == 'hoooome') {
		bot('editmessagetext',[
				'message_id'=>$message_id,
		'chat_id'=>$chat_id,
		'text'=>"ุงููุง ุจู ุนุฒูุฒู $name 
		$start
		
		$txtfree
		",
	'parse_mode'=>HTML,
		'reply_markup'=>json_encode([
'inline_keyboard'=>[
[['text'=>'๐ถโูุณู ุงูุตูุช ','callback_data'=>'g_mp3']],
[['text'=>'๐ฅโูุณู ุงููุฏูู','callback_data'=>'g_video']],
[['text'=>'๐โูุณู ุงูุตูุฑ','callback_data'=>'g_photo']],
[['text'=>'๐ฑโูุณู ุชุบููุฑ ุงูุญููู','callback_data'=>'audio']],
]    
])
		
	]);
}
if ($data == 'g_photo') {
			bot('editmessagetext',[
				'message_id'=>$message_id,
		'chat_id'=>$chat_id,
		'text'=>'โ๏ธโุชู ุงุฎุชุจุงุฑ ูุณู ุ ๐โูุณู ุงูุตูุฑ
๐ฝโููููู ุงุฎุชูุงุฑ ููุน ุงูุชุญููู',

			'reply_markup'=>json_encode([
'inline_keyboard'=>[
[['text'=>'ูู ููุตู ุงูู ุตูุฑุฉ ','callback_data'=>'m_ph']],
[['text'=>'ูู ุตูุฑุฉ ุงูู ููุตู','callback_data'=>'ph_m']],
[['text'=>'ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ  ','callback_data'=>'hoooome']],
 
]    
])
		
	
	]);
	
}
if ($data == 'ph_m') {
			bot('editmessagetext',[
				'message_id'=>$message_id,
		'chat_id'=>$chat_id,
		'text'=>'๐โุงูุงู ุงุฑุณู ุงูุตูุฑู ูุชุญููููุง ุงูู ููุตู',
	'reply_markup'=>json_encode([
'inline_keyboard'=>[
[['text'=>'โช ุนูุฏุฉ  ','callback_data'=>'g_photo']],
 
]    
])
	]);

}
if ($message->photo and $m == 'ph_m') {
	bot('sendMessage',[
		'chat_id'=>$chat_id,
		'text'=>'๐งโุฌุงุฑู ุงูุชุญููู ุงูุชุธุฑ ููููุง'
	]);
	$file = "https://api.telegram.org/file/bot".API_KEY."/".bot('getfile',['file_id'=>$message->photo[1]->file_id])->result->file_path;
	    file_put_contents("data/$chat_id.png",file_get_contents($file));
	    bot('sendsticker',[
	    	'chat_id'=>$chat_id,
	    	'sticker'=>new CURLFile("data/$chat_id.png")
	    ]);
	    unlink("data/$chat_id.png");
}
if ($data == 'm_ph') {
	bot('sendMessage',[
		'chat_id'=>$chat_id,
		'text'=>'๐โุงูุงู ุงุฑุณู ุงูููุตู ูุชุญูููู ุงูู ุตูุฑู',
		'reply_markup'=>json_encode([
'inline_keyboard'=>[
[['text'=>'โช ุนูุฏุฉ  ','callback_data'=>'g_photo']],
 
]    
])
	]);

}
if ($message->sticker and $m == 'm_ph') {
			bot('editmessagetext',[
				'message_id'=>$message_id,
		'chat_id'=>$chat_id,
		'text'=>'๐งโุฌุงุฑู ุงูุชุญููู ุงูุชุธุฑ ููููุง'
	]);
	$file = "https://api.telegram.org/file/bot".API_KEY."/".bot('getfile',['file_id'=>$message->sticker->file_id])->result->file_path;
	    file_put_contents("data/$chat_id.jpg",file_get_contents($file));
	    bot('sendphoto',[
	    	'chat_id'=>$chat_id,
	    	'photo'=>new CURLFile("data/$chat_id.jpg")
	    ]);
	    unlink("data/$chat_id.jpg");
}
if ($data == 'g_video') {
		bot('editmessagetext',[
				'message_id'=>$message_id,
		'chat_id'=>$chat_id,
		'text'=>'โ๏ธโุชู ุงุฎุชุจุงุฑ ูุณู ุ ๐ฅโูุณู ุงููุฏูู
๐ฝโููููู ุงุฎุชูุงุฑ ููุน ุงูุชุญููู',

		'reply_markup'=>json_encode([
'inline_keyboard'=>[
[['text'=>'ูู ููุฏูู ุงูู ููุณููู','callback_data'=>'v_mp']],
[['text'=>'ูู ููุฏูู ุงูู ุจุตูุฉ','callback_data'=>'v_p']],

[['text'=>'ูู ููุฏูู ุงูู ููุฏูู ููุช','callback_data'=>'v_vn']],
[['text'=>'ูู ููุฏูู ุงูู ูุชุญุฑูุฉ','callback_data'=>'v_m']],

[['text'=>'ุงูุตูุญู ุงูุฑุฆูุณูุฉ ','callback_data'=>'hoooome']],
 
]    
])
		
	]);
}

if ($data == 'v_mp') {
			bot('editmessagetext',[
				'message_id'=>$message_id,
		'chat_id'=>$chat_id,
		'text'=>'๐ฅโุงูุงู ุงุฑุณู ุงููุฏูู ูุชุญูููู ุงูู ููุณููู',
		'reply_markup'=>json_encode([
'inline_keyboard'=>[
[['text'=>'โช ุนูุฏุฉ  ','callback_data'=>'g_video']],
 
]    
])
	]);
	
}
if ($message->video and $m == 'v_mp') {
$file_id = $update->message->video->file_id;
	bot('sendMessage',[
		'chat_id'=>$chat_id,
		'text'=>'๐งโุฌุงุฑู ุงูุชุญููู ุงูุชุธุฑ ููููุง'
	]);
	$file = "https://api.telegram.org/file/bot".API_KEY."/".bot('getfile',['file_id'=>$message->video->file_id])->result->file_path;
	    file_put_contents("data/$chat_id.mp3",file_get_contents($file));
	    
bot('sendaudio',[
	    	'chat_id'=>$chat_id,
	    	'audio'=>new CURLFile("data/$chat_id.mp3")
	
]);
	    unlink("data/$chat_id.mp3");
}

if ($data == 'v_p') {
			bot('editmessagetext',[
				'message_id'=>$message_id,
		'chat_id'=>$chat_id,
		'text'=>'๐ฅโุงูุงู ุงุฑุณู ุงูููุฏูู ูุชุญูููู ุงูู ุจุตูู',
	'reply_markup'=>json_encode([
'inline_keyboard'=>[
[['text'=>'โช ุนูุฏุฉ  ','callback_data'=>'g_video']],
 
]    
])
	]);

}
if ($message->video and $m == 'v_p') {
			bot('editmessagetext',[
				'message_id'=>$message_id,
		'chat_id'=>$chat_id,
		'text'=>'๐งโุฌุงุฑู ุงูุชุญููู ุงูุชุธุฑ ููููุง'
	]);
	$file = "https://api.telegram.org/file/bot".API_KEY."/".bot('getfile',['file_id'=>$message->video->file_id])->result->file_path;
	    file_put_contents("data/$chat_id.ogg",file_get_contents($file));
	    bot('sendvoice',[
	    	'chat_id'=>$chat_id,
	    	'voice'=>new CURLFile("data/$chat_id.ogg")
	    ]);
	    unlink("data/$chat_id.ogg");
}

if ($data =='v_m') {
			bot('editmessagetext',[
				'message_id'=>$message_id,
		'chat_id'=>$chat_id,
		'text'=>'๐ฅโุงูุงู ุงุฑุณู ุงููุฏูู ูุชุญูููู ุงูู ูุชุญุฑูู',
		'reply_markup'=>json_encode([
'inline_keyboard'=>[
[['text'=>'โช ุนูุฏุฉ  ','callback_data'=>'g_video']],
 
]    
])
	]);

}
if ($message->video and $m == 'v_m') {
	bot('sendMessage',[
		'chat_id'=>$chat_id,
		'text'=>'๐งโุฌุงุฑู ุงูุชุญููู ุงูุชุธุฑ ููููุง'
	]);
	$file = "https://api.telegram.org/file/bot".API_KEY."/".bot('getfile',['file_id'=>$message->video->file_id])->result->file_path;
	    file_put_contents("data/$chat_id.mp4",file_get_contents($file));
	    bot('senddocument',[
	    	'chat_id'=>$chat_id,
	    	'document'=>new CURLFile("data/$chat_id.mp4")
	    ]);
	    unlink("data/$chat_id.mp4");
}




if ($data == 'v_vn') {
			bot('editmessagetext',[
				'message_id'=>$message_id,
		'chat_id'=>$chat_id,
		'text'=>'๐ฅโุงูุงู ุงุฑุณู ุงููุฏูู ูุชุญูููู ุงูู ูุฏูู ููุช
โ๏ธโูุฌุจ ุงู ูููู ุงููุฏูู ูุฑุจุน',
		'reply_markup'=>json_encode([
'inline_keyboard'=>[
[['text'=>'โช ุนูุฏุฉ  ','callback_data'=>'g_video']],
 
]    
])
	]);
	
}
if ($message->video and $m == 'v_vn') {
	bot('sendMessage',[
		'chat_id'=>$chat_id,
		'text'=>'๐งโุฌุงุฑู ุงูุชุญููู ุงูุชุธุฑ ููููุง'
	]);
	$file = "https://api.telegram.org/file/bot".API_KEY."/".bot('getfile',['file_id'=>$message->video->file_id])->result->file_path;
	    file_put_contents("data/$chat_id.mp4",file_get_contents($file));
	    bot('sendVideoNote',[
	    	'chat_id'=>$chat_id,
	    	'video_note'=>new CURLFile("data/$chat_id.mp4")
	    ]);
	    unlink("data/$chat_id.mp4");
}

if ($data =='m_v') {
			bot('editmessagetext',[
				'message_id'=>$message_id,
		'chat_id'=>$chat_id,
		'text'=>'๐ฅโุงูุงู ุงุฑุณู ูุชุญุฑูุฉ ูุชุญููููุง ุงูู ููุฏูู',
		'reply_markup'=>json_encode([
'inline_keyboard'=>[
[['text'=>'โช ุนูุฏุฉ  ','callback_data'=>'g_video']],
 
]    
])
	]);
	
}
if ($message->document and $m == 'm_v') {
			bot('editmessagetext',[
				'message_id'=>$message_id,
		'chat_id'=>$chat_id,
		'text'=>'๐งโุฌุงุฑู ุงูุชุญููู ุงูุชุธุฑ ููููุง'
	]);
	$file = "https://api.telegram.org/file/bot".API_KEY."/".bot('getfile',['file_id'=>$message->video->file_id])->result->file_path;
	    file_put_contents("data/$chat_id.mp4",file_get_contents($file));
	    bot('sendvideo',[
	    	'chat_id'=>$chat_id,
	    	'video'=>new CURLFile("data/$chat_id.mp4")
	    ]);
	    unlink("data/$chat_id.mp4");
}

if ($data =='m_vn') {
			bot('editmessagetext',[
				'message_id'=>$message_id,
		'chat_id'=>$chat_id,
		'text'=>'๐ฅโุงูุงู ุงุฑุณู ูุชุญุฑูุฉ ูุชุญููููุง ุงูู ููุฏูู ููุช',
		'reply_markup'=>json_encode([
'inline_keyboard'=>[
[['text'=>'โช ุนูุฏุฉ  ','callback_data'=>'g_video']],
 
]    
])
	]);
	}
if ($message->document and $m == 'm_vn') {
	bot('sendMessage',[
		'chat_id'=>$chat_id,
		'text'=>'๐งโุฌุงุฑู ุงูุชุญููู ุงูุชุธุฑ ููููุง'
	]);
	$file = "https://api.telegram.org/file/bot".API_KEY."/".bot('getfile',['file_id'=>$message->video->file_id])->result->file_path;
	    file_put_contents("data/$chat_id.mp4",file_get_contents($file));
	    bot('sendVideoNote',[
	    	'chat_id'=>$chat_id,
	    	'video_note'=>new CURLFile("data/$chat_id.mp4")
	    ]);
	    unlink("data/$chat_id.mp4");
}


if ($data == 'g_mp3') {
			bot('editmessagetext',[
				'message_id'=>$message_id,
		'chat_id'=>$chat_id,
		'text'=>'โ๏ธโุชู ุงุฎุชุจุงุฑ ูุณู ุ ๐ถโูุณู ุงูุตูุช
๐ฝโููููู ุงุฎุชูุงุฑ ููุน ุงูุชุญููู',
	
			'reply_markup'=>json_encode([
'inline_keyboard'=>[
[['text'=>'ูู ููุณููู ุงูู ุจุตูุฉ  ','callback_data'=>'mp_p']],
[['text'=>'ูู ุจุตูุฉ ุงูู ููุณููู  ','callback_data'=>'p_mp']],
[['text'=>'ูู ุจุตูุฉ ุงูู ููุฏูู ููุช','callback_data'=>'p_vn']],
[['text'=>'ูู ููุณููู ุงูู ููุฏูู ููุช','callback_data'=>'mp_vn']],
[['text'=>'ุงูุตูุญู ุงูุฑุฆูุณูุฉ ','callback_data'=>'hoooome']],
 
]    
])
	]);
}
if ($data == 'mp_vn') {
			bot('editmessagetext',[
				'message_id'=>$message_id,
		'chat_id'=>$chat_id,
		'text'=>'๐ถโุงูุงู ุงุฑุณู ููุณููู ูุชุญููููุง ุงูู ูุฏูู ููุช',
			'reply_markup'=>json_encode([
'inline_keyboard'=>[
[['text'=>'โช ุนูุฏุฉ  ','callback_data'=>'g_mp3']],
 
]    
])
	]);
	
}
if ($message->audio and $m == 'mp_vn') {
	bot('sendMessage',[
		'chat_id'=>$chat_id,
		'text'=>'๐งโุฌุงุฑู ุงูุชุญููู ุงูุชุธุฑ ููููุง'
	]);
	$file = "https://api.telegram.org/file/bot".API_KEY."/".bot('getfile',['file_id'=>$message->audio->file_id])->result->file_path;
	    file_put_contents("data/$chat_id.mp4",file_get_contents($file));
	    bot('sendVideoNote',[
	    	'chat_id'=>$chat_id,
	    	'video_note'=>new CURLFile("data/$chat_id.mp4")
	    ]);
	    unlink("data/$chat_id.mp4");
}
if ($data == 'p_vn') {
			bot('editmessagetext',[
				'message_id'=>$message_id,
		'chat_id'=>$chat_id,
		'text'=>'๐ถโุงูุงู ุงุฑุณู ุงูุตูุช ูุชุญูููู ุงูู ูุฏูู ููุช',
		'reply_markup'=>json_encode([
'inline_keyboard'=>[
[['text'=>'โช ุนูุฏุฉ  ','callback_data'=>'g_mp3']],
 
]    
])
	]);
	
}
if ($message->voice and $m == 'p_vn') {
	bot('sendMessage',[
		'chat_id'=>$chat_id,
		'text'=>'๐งโุฌุงุฑู ุงูุชุญููู ุงูุชุธุฑ ููููุง'
	]);
	$file = "https://api.telegram.org/file/bot".API_KEY."/".bot('getfile',['file_id'=>$message->voice->file_id])->result->file_path;
	    file_put_contents("data/$chat_id.mp4",file_get_contents($file));
	    bot('sendVideoNote',[
	    	'chat_id'=>$chat_id,
	    	'video_note'=>new CURLFile("data/$chat_id.mp4")
	    ]);
	    unlink("data/$chat_id.mp4");
}
if ($data == 'p_mp') {
		bot('editmessagetext',[
				'message_id'=>$message_id,
		'chat_id'=>$chat_id,
		'text'=>'๐ถโุงูุงู ุงุฑุณู ุงูุจุตูุฉ ูุชุญููููุง ุงูู ููุณููู',
	'reply_markup'=>json_encode([
'inline_keyboard'=>[
[['text'=>'โช ุนูุฏุฉ  ','callback_data'=>'g_mp3']],
 
]    
])
	]);
	
}
if ($message->voice and $m == 'p_mp') {
	bot('sendMessage',[
		'chat_id'=>$chat_id,
		'text'=>'๐งโุฌุงุฑู ุงูุชุญููู ุงูุชุธุฑ ููููุง'
	]);
	$file = "https://api.telegram.org/file/bot".API_KEY."/".bot('getfile',['file_id'=>$message->voice->file_id])->result->file_path;
	    file_put_contents("data/$chat_id.mp3",file_get_contents($file));
	    bot('sendaudio',[
	    	'chat_id'=>$chat_id,
	    	'audio'=>new CURLFile("data/$chat_id.mp3")
	    ]);
	    unlink("data/$chat_id.mp3");
}
if ($data == 'mp_p') {
			bot('editmessagetext',[
				'message_id'=>$message_id,
		'chat_id'=>$chat_id,
		'text'=>'๐ถโุงูุงู ุงุฑุณู ููุณููู ูุชุญููููุง ุงูู ุจุตูุฉ',
	'reply_markup'=>json_encode([
'inline_keyboard'=>[
[['text'=>'โช ุนูุฏุฉ  ','callback_data'=>'g_mp3']],
 
]    
])
	]);

}
if ($message->audio and $m == 'mp_p') {
	bot('sendMessage',[
		'chat_id'=>$chat_id,
		'text'=>'๐งโุฌุงุฑู ุงูุชุญููู ุงูุชุธุฑ ููููุง'
	]);
	$file = "https://api.telegram.org/file/bot".API_KEY."/".bot('getfile',['file_id'=>$message->audio->file_id])->result->file_path;
	    file_put_contents("data/$chat_id.ogg",file_get_contents($file));
	    bot('sendvoice',[
	    	'chat_id'=>$chat_id,
	    	'voice'=>new CURLFile("data/$chat_id.ogg")
	    ]);
	    unlink("data/$chat_id.ogg");
}

if($data == 'audio') {
		bot('editmessagetext',[
				'message_id'=>$message_id,
		'chat_id'=>$chat_id,
		'text'=>'๐ถ ุชุณุชุทูุน ูู ูุฐุง ุงููุณู ุชุนุฏูู ุญููู ุงูููุงุทุน ุงูุตูุชูุฉ ูู ุญูุซ ุงุณู ุงูููุทุน ูุงููุคุฏู ูุงููุตู 
		
ูู ุจุงุฑุณุงู ููุทุน ุตูุชู 
		',
	'reply_markup'=>json_encode([
'inline_keyboard'=>[

[['text'=>'โช ุนูุฏุฉ  ','callback_data'=>'hoooome']],
 
]    
])
	]);
	$jsonfrom["info"]["amr"]="hogog";

file_put_contents("data/$from_id.json", json_encode($jsonfrom));
	}
	
$audio=$message->audio;


if($audio and $m == "hogog" ){

$file_id = $update->message->audio->file_id;
bot('SendMessage',[
'chat_id'=>$chat_id,
'text'=>"ุญุณูุง ุนุฒูุฒู ูู ุจุงุฑุณุงู ุงุณู ููููุทุน ุงูุตูุชู  ",
]);

$jsonfrom["info"]["amr"]="title";
$jsonfrom["info"]["file_id"]="$file_id";
file_put_contents("data/$from_id.json", json_encode($jsonfrom));
}


if($text and $m == "title" ){
bot('SendMessage',[
'chat_id'=>$chat_id,
'text'=>"ุชู ุญูุธ ุงุณู ุงูููุทุน 
$text 
ูู ุจุฅุฑุณุงู ุงุณู ุงููุคุฏู ( ุงูููุงู - ุงูููุดุฏ
 ..ุงูุฎ )
 
",
]);
$jsonfrom["info"]["amr"]="performer";
$jsonfrom["info"]["title"]="$text";
file_put_contents("data/$from_id.json", json_encode($jsonfrom));
}

if($text and $m == "performer" ){
bot('SendMessage',[
'chat_id'=>$chat_id,
'text'=>"ุชู ุญูุธ ุงุณู ุงููุคุฏู 
$text 
ูู ุจุงุฑุณุงู ูุตู ุงูููุทุน ",
]);
$jsonfrom["info"]["amr"]="caption";
$jsonfrom["info"]["performer"]="$text";
file_put_contents("data/$from_id.json", json_encode($jsonfrom));
}
$jsonfrom = json_decode(file_get_contents("data/$from_id.json"),true);
$getfile_id=$jsonfrom["info"]["file_id"];
if($text and $m == "caption" ){
bot('SendMessage',[
'chat_id'=>$chat_id,
'text'=>"ุชู ุญูุธ ุงููุตู  
$text 
ุฌุงุฑู ุชุบููุฑ ุงูุญููู ุงูุชุธุฑ ููููุง ูู ูุถูู
",
]);
$wathq = json_decode(file_get_contents('https://api.telegram.org/bot'.$token.'/getFile?file_id='.$getfile_id),true);
$wathqpath = $wathq['result']['file_path'];
$wathq_file = 'https://api.telegram.org/file/bot'.$token.'/'.$wathqpath;

file_put_contents('data/'.$from_id.'-wataw'.'.mp3',file_get_contents($wathq_file));

$jsonfrom["info"]["amr"]="get";
$jsonfrom["info"]["caption"]="$text";
file_put_contents("data/$from_id.json", json_encode($jsonfrom));
}
$jsonfrom = json_decode(file_get_contents("data/$from_id.json"),true);
$getaudio=$jsonfrom["info"]["amr"];

$gettitle=$jsonfrom["info"]["title"];
$getperformer=$jsonfrom["info"]["performer"];
$getcaption=$jsonfrom["info"]["caption"];

if( $getaudio == "get" ){

$audio = bot('sendaudio',[
       'chat_id'=>$chat_id,
       'audio'=>new CURLFile('data/'.$from_id.'-wataw'.'.mp3'),
       'performer'=>$getperformer,
       'title'=>$gettitle,
       'caption'=>$getcaption ,
 			]);
 		unlink('data/'.$from_id.'-wataw'.'.mp3');
$jsonfrom["info"]["amr"]="null";
file_put_contents("data/$from_id.json", json_encode($jsonfrom));
}




